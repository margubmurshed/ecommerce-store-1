(this["webpackJsonpecommerce-store"]=this["webpackJsonpecommerce-store"]||[]).push([[0],{114:function(e,t,c){},119:function(e,t,c){},121:function(e,t,c){},122:function(e,t,c){},123:function(e,t,c){},124:function(e,t,c){"use strict";c.r(t);var n,a=c(0),r=c(21),s=c.n(r),i=c(14),l=c.n(i),o=c(24),u=c(12),j=c(16),d=c(78),b=d.a.initializeApp({apiKey:"AIzaSyBp1F8MgyhLbEaazZiZPqeK5X-dZasLYR8",authDomain:"margub-webshop.firebaseapp.com",projectId:"margub-webshop",storageBucket:"margub-webshop.appspot.com",messagingSenderId:"114059764871",appId:"1:114059764871:web:c7bf9779a72aad2a828422",measurementId:"G-97CQ3DZ18P"}),x=b.auth(),f=b.firestore(),h=new d.a.auth.GoogleAuthProvider,m=c(22),p="FETCH_PRODUCTS",O="SET_USER",v="FETCH_CART",g="FETCH_FAVORITES",w="FETCH_USER_INFO",N="FETCH_ORDERS",y="FETCH_SEARCH_RESULTS",A=(c(114),c(28)),P=c(10),T=function(){var e=Object(a.useState)(!1),t=Object(P.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(!1),s=Object(P.a)(r,2),i=s[0],l=s[1],o=Object(j.g)(),d=Object(u.c)((function(e){return{user:e.user}})).user,b=function(e,t,c){return"increase"===c?function(e,t){var c={product:t,count:1};if(e.length){var n=Object(A.a)(e);return n.forEach((function(e){e.product.id===t.id?e.count++:[].concat(Object(A.a)(n),[{product:t}]).forEach((function(e){(function(e,t){return!!t.filter((function(t){return t.product.id===e})).length})(e.product.id,n)||n.push(c)}))})),n}return[c]}(e,t):function(e,t){var c=Object(A.a)(e);return c.forEach((function(e,n){e.product.id===t.id&&(e.count>1?e.count--:c.splice(n,1))})),c}(e,t)};return function(e,t,a){return function(e,t,c){if(d){n(!0);var a=b(e,t,c);f.collection("carts").doc(d.uid).set({cart:a}).then((function(){n(!1),i&&l(!1)})).catch((function(){n(!1),l(!0)}))}else o.push("/login")}(e,t,a),{loading:c,error:i}}},S=function(){var e=Object(a.useState)(window.innerWidth),t=Object(P.a)(e,2),c=t[0],n=t[1],r=function(){n(window.innerWidth)};return Object(a.useEffect)((function(){return window.addEventListener("resize",r),function(){return window.removeEventListener("resize",r)}}),[]),c},E=c(2),C=function(e){var t=e.cart,c=T(),n=S();return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("div",{className:"bg-white flex flex-col gap-2 rounded-md shadow-md p-4",children:t.map((function(e){var r=e.product,s=e.count;return Object(E.jsxs)(a.Fragment,{children:[Object(E.jsxs)("div",{className:"flex gap-5 overflow-x-auto",children:[Object(E.jsx)("img",{src:r.productImage,alt:r.name,className:"w-12 h-12 md:h-auto",style:{flexBasis:"10%"}}),Object(E.jsx)("p",{className:"text-xs md:text-base",style:{flexBasis:"60%"},children:n<=640?r.name.slice(0,60).concat("..."):r.name}),Object(E.jsxs)("div",{className:"flex amount-changer gap-3 justify-between items-center",style:{flexBasis:"10%"},children:[Object(E.jsx)("button",{onClick:function(){return c(t,r,"increase")},children:"+"}),Object(E.jsx)("input",{type:"tel",value:s,readOnly:!0}),Object(E.jsx)("button",{onClick:function(){return c(t,r,"decrease")},children:"-"})]}),Object(E.jsxs)("p",{className:"cart-product-price flex items-center justify-center text-sm md:text-base",style:{flexBasis:"20%"},children:["Tk. ",r.price]})]}),Object(E.jsx)("hr",{})]},Math.random())}))})})},F=function(e){var t=e.subTotal,c=e.total,n=e.cart,a=Object(j.g)();return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{className:"checkout-summary flex flex-col bg-white rounded-md shadow-md sticky top-5 p-4",children:[Object(E.jsx)("p",{className:"mb-4 text-xl font-semibold",children:"Cart Summary"}),Object(E.jsx)("hr",{}),Object(E.jsxs)("div",{className:"mt-4 flex flex-col gap-3",children:[Object(E.jsxs)("div",{className:"flex justify-between w-full",children:[Object(E.jsx)("p",{className:"flex-1",children:"Subtotal"}),Object(E.jsxs)("p",{children:["Tk. ",t()]}),Object(E.jsx)("hr",{})]}),Object(E.jsxs)("div",{className:"flex justify-between w-full",children:[Object(E.jsx)("p",{className:"font-semibold flex-1",children:"Total"}),Object(E.jsxs)("p",{className:"font-semibold",children:["Tk. ",c()]}),Object(E.jsx)("hr",{})]}),Object(E.jsx)("button",{className:"w-full bg-green-400 text-white p-3 rounded-md",onClick:function(){a.push({pathname:"/checkout",state:{cart:n,total:c()}})},children:"Proceed To Checkout"})]})]})})},k=function(){var e=Object(u.c)((function(e){return{user:e.user,cart:e.cart}})),t=e.user,c=e.cart;Object(a.useEffect)((function(){document.title="Cart (".concat(c.length||"",") | E-commerce")}),[c]);var n=function(){var e=0;return c.forEach((function(t){var c=t.product,n=t.count;return e+=parseInt(c.price)*parseInt(n)})),e},r=function(){return n()+50};return c.length?Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("div",{className:"w-full p-5 relative",style:{minHeight:"90vh"},children:Object(E.jsxs)("div",{className:"flex flex-col lg:flex-row items-start gap-5 w-full h-full",children:[Object(E.jsxs)("div",{className:"products flex flex-col gap-5",children:[Object(E.jsxs)("div",{className:"bg-white flex justify-between md:flex-row rounded-md shadow-md p-4",children:[Object(E.jsxs)("p",{className:"font-semibold text-sm md:text-base",children:["My Cart (",c.length," Items)"]}),Object(E.jsxs)("p",{className:"font-semibold text-sm md:text-base",children:["Total: ",r()," Tk."]})]}),Object(E.jsx)(C,{cart:c,user:t})]}),Object(E.jsx)(F,{subTotal:n,total:r,cart:c})]})})}):Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("div",{className:"w-full flex justify-center items-center",style:{minHeight:"90vh"},children:Object(E.jsx)("p",{children:"No product in the cart"})})})},R=(c(119),c(184)),L=c(183),H=c(187),V=c(182),K=c.p+"static/media/nagadLogo.8e255717.svg",q=c.p+"static/media/rocketLogo.22abbf03.png",U=function(e){var t=e.values,c=e.setMethods,n=t.name,a=t.phoneNumber,r=t.alternativePhoneNumber,s=t.address,i=t.paymentMethod,l=c.setName,o=c.setPhoneNumber,u=c.setAlternativePhoneNumber,j=c.setAddress,d=c.setPaymentMethod;return Object(E.jsxs)("div",{className:"checkout-details flex flex-col gap-5 bg-white p-5 rounded-md",children:[Object(E.jsx)("span",{className:"text-xl font-semibold px-5 py-3 bg-blue-100 text-blue-800 rounded-md",children:"Contact Info"}),Object(E.jsx)(R.a,{type:"text",variant:"outlined",value:n,onChange:function(e){return l(e.target.value)},label:"Enter your name",autoComplete:"off",required:!0}),Object(E.jsx)(R.a,{type:"tel",variant:"outlined",value:a,onChange:function(e){return o(e.target.value)},label:"Enter your phone number",autoComplete:"off",required:!0}),Object(E.jsx)(R.a,{type:"tel",variant:"outlined",value:r,onChange:function(e){return u(e.target.value)},label:"Enter your alternative phone number",autoComplete:"off"}),Object(E.jsx)(R.a,{type:"textarea",variant:"outlined",value:s,onChange:function(e){return j(e.target.value)},label:"Enter your address",autoComplete:"off",required:!0,minRows:50}),Object(E.jsxs)("div",{className:"flex flex-col",children:[Object(E.jsx)("span",{className:"text-xl font-semibold px-5 py-3 bg-blue-100 text-blue-800 rounded-md",children:"Payment Method"}),Object(E.jsxs)(L.a,{value:i,onChange:function(e){return d(e.target.value)},className:"px-2",children:[Object(E.jsx)("div",{className:"flex justify-between items-center py-5",children:Object(E.jsx)(H.a,{value:"cod",control:Object(E.jsx)(V.a,{}),label:"Cash On Delivery",color:"primary"})}),Object(E.jsxs)("div",{className:"flex gap-3 items-center py-5",children:[Object(E.jsx)(H.a,{value:"bkash",control:Object(E.jsx)(V.a,{}),label:"Bkash",color:"primary"}),Object(E.jsx)("img",{src:"data:image/png;base64,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",alt:"bkashLogo",width:"50px"})]}),Object(E.jsxs)("div",{className:"flex gap-3 items-center py-5",children:[Object(E.jsx)(H.a,{value:"nagad",control:Object(E.jsx)(V.a,{}),label:"Nagad",color:"primary"}),Object(E.jsx)("img",{src:K,alt:"nagadLogo",width:"50px"})]}),Object(E.jsxs)("div",{className:"flex gap-3 items-center py-5",children:[Object(E.jsx)(H.a,{value:"rocket",control:Object(E.jsx)(V.a,{}),label:"Rocket",color:"primary"}),Object(E.jsx)("img",{src:q,alt:"rocketLogo",width:"50px"})]}),Object(E.jsxs)("div",{className:"flex gap-3 items-center py-5",children:[Object(E.jsx)(H.a,{value:"upay",control:Object(E.jsx)(V.a,{}),label:"Upay",color:"primary"}),Object(E.jsx)("img",{src:"data:image/jpeg;base64,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",alt:"bkashLogo",width:"50px"})]})]})]})]})},B=function(e){var t=e.cart,c=e.total,n=e.loading,a=e.submitOrder;return Object(E.jsxs)("div",{className:"checkout-summary flex flex-col bg-white rounded-md shadow-md sticky top-3 p-4 checkout-summary",children:[Object(E.jsx)("span",{className:"text-xl font-semibold px-5 py-3 bg-green-100 text-green-800 rounded-md",children:"Summary"}),Object(E.jsxs)("div",{className:"mt-4 flex flex-col gap-3",children:[t.map((function(e){var t=e.product,c=e.count;return Object(E.jsxs)("div",{className:"flex justify-between gap-4 w-full",children:[Object(E.jsxs)("p",{className:"flex-1 text-sm",children:[t.name," ",Object(E.jsx)("br",{})," ",Object(E.jsxs)("strong",{children:["X ",c]})]}),Object(E.jsxs)("p",{children:["Tk. ",t.price*c]})]},Math.random())})),Object(E.jsxs)("div",{className:"flex justify-between w-full",children:[Object(E.jsx)("p",{className:"flex-1",children:"Shipping"}),Object(E.jsx)("p",{children:"Tk. 50"}),Object(E.jsx)("hr",{})]}),Object(E.jsxs)("div",{className:"flex justify-between w-full",children:[Object(E.jsx)("p",{className:"flex-1",children:"Total"}),Object(E.jsxs)("p",{children:["Tk. ",c]}),Object(E.jsx)("hr",{})]}),Object(E.jsxs)("div",{className:"flex justify-between w-full",children:[Object(E.jsx)("p",{className:"font-semibold flex-1",children:"Payable Total"}),Object(E.jsxs)("p",{className:"font-semibold",children:["Tk. ",c]}),Object(E.jsx)("hr",{})]}),Object(E.jsx)("button",{className:"w-full bg-green-400 text-white p-3 rounded-md",onClick:a,disabled:n,children:"Order Now"})]})]})},Q=function(e){var t=e.color,c=e.message,n=e.remove;return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{className:"flex justify-between items-center px-5 py-3 bg-".concat(t,"-200 text-").concat(t,"-500 font-semibold mb-5 rounded-md cursor-pointer"),children:[Object(E.jsx)("span",{children:c}),Object(E.jsx)("i",{className:"fas fa-times-circle cursor-pointer",onClick:n})]})})},M=c(89),W=c.n(M),D=function(){return Object(E.jsxs)("div",{className:W.a.ldsRing,children:[Object(E.jsx)("div",{}),Object(E.jsx)("div",{}),Object(E.jsx)("div",{}),Object(E.jsx)("div",{})]})},Z=function(){var e=Object(j.h)(),t=Object(j.g)(),c=Object(u.c)((function(e){return{user:e.user,userInfo:e.userInfo}})),n=c.user,r=c.userInfo,s=Object(a.useState)(n.displayName||""),i=Object(P.a)(s,2),d=i[0],b=i[1],x=Object(a.useState)(""),h=Object(P.a)(x,2),m=h[0],p=h[1],O=Object(a.useState)(""),v=Object(P.a)(O,2),g=v[0],w=v[1],N=Object(a.useState)(""),y=Object(P.a)(N,2),T=y[0],S=y[1],C=Object(a.useState)("cod"),F=Object(P.a)(C,2),k=F[0],R=F[1],L=Object(a.useState)(!1),H=Object(P.a)(L,2),V=H[0],K=H[1],q=Object(a.useState)([]),M=Object(P.a)(q,2),W=M[0],Z=M[1];Object(a.useEffect)((function(){document.title="Checkout | E-commerce"}),[]),Object(a.useEffect)((function(){r&&(b(r.name),p(r.phoneNumber),w(r.alternativePhoneNumber),S(r.deliveryAddress),R(r.defaultPaymentMethod))}),[r]);var I=function(){var t=e.state,c=t.cart,n=t.total;return{userInfo:{name:d,phoneNumber:m,alternativePhoneNumber:g,address:T,paymentMethod:k},orderInfo:{products:c,total:n,time:(new Date).getTime(),status:"Pending"}}},J=function(){var e=Object(o.a)(l.a.mark((function e(){var c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===d||""===m||""===T||""===k){e.next=21;break}return Z([]),K(!0),e.next=5,new Promise((function(e){f.collection("orders").doc(n.uid).get().then((function(t){var c=[];t.exists&&c.push.apply(c,Object(A.a)(t.data().orders)),e(c)}))}));case 5:return c=e.sent,a=I(),e.prev=7,e.next=10,f.collection("orders").doc(n.uid).set({orders:[].concat(Object(A.a)(c),[a])});case 10:f.collection("carts").doc(n.uid).set({cart:[]}),K(!1),t.push({pathname:"/orderconfirmation/".concat(n.uid),state:{uid:n.uid}}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(7),Z([{message:"Action Failed",color:"red"}]),K(!1);case 19:e.next=22;break;case 21:Z([{message:"Please fill all fields",color:"red"}]);case 22:case"end":return e.stop()}}),e,null,[[7,15]])})));return function(){return e.apply(this,arguments)}}();if(V)return Object(E.jsx)(D,{});if(e.state){var X=e.state,G=X.cart,z=X.total;return Object(E.jsxs)("div",{className:"p-3",children:[W.length?W.map((function(e){var t=e.message,c=e.color;return Object(E.jsx)(Q,{message:t,color:c,remove:function(){return Z([])}},t)})):null,Object(E.jsxs)("div",{className:"flex flex-col lg:flex-row gap-3 relative",children:[Object(E.jsx)(U,{values:{name:d,phoneNumber:m,alternativePhoneNumber:g,address:T,paymentMethod:k},setMethods:{setName:b,setPhoneNumber:p,setAlternativePhoneNumber:w,setAddress:S,setPaymentMethod:R}}),Object(E.jsx)(B,{cart:G,total:z,loading:V,submitOrder:J})]})]})}return t.push("/"),null},I=(c(121),function(e){var t=e.currentTab,c=e.setCurrentTab;return e.width>=768?Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("div",{className:"h-full bg-white overflow-y-auto p-2",style:{flex:"0.2"},children:Object(E.jsxs)("div",{className:"flex flex-col gap-2",children:[Object(E.jsxs)("div",{className:"p-3 flex gap-2 items-center rounded-md hover:bg-blue-500 hover:text-white transition cursor-pointer ".concat("my-account"===t&&"bg-blue-500 text-white"),onClick:function(){return c("my-account")},exact:!0,children:[Object(E.jsx)("i",{className:"far fa-user"}),Object(E.jsx)("span",{className:"font-medium text-sm",children:"Account"})]}),Object(E.jsxs)("div",{className:"p-3 flex gap-2 items-center rounded-md hover:bg-blue-500 hover:text-white transition cursor-pointer ".concat("orders"===t&&"bg-blue-500 text-white"),onClick:function(){return c("orders")},exact:!0,children:[Object(E.jsx)("i",{className:"fas fa-shopping-cart"}),Object(E.jsx)("span",{className:"font-medium text-sm",children:"Orders"})]}),Object(E.jsxs)("div",{className:"p-3 flex gap-2 items-center rounded-md hover:bg-blue-500 hover:text-white transition cursor-pointer ".concat("favorites"===t&&"bg-blue-500 text-white"),onClick:function(){return c("favorites")},exact:!0,children:[Object(E.jsx)("i",{className:"far fa-heart"}),Object(E.jsx)("span",{className:"font-medium text-sm",children:"Favorites"})]})]})})}):Object(E.jsxs)("div",{className:"w-full p-3 bg-white flex justify-evenly items-center flex-wrap gap-2",children:[Object(E.jsxs)("div",{className:"p-3 flex gap-2 items-center rounded-md hover:bg-blue-500 hover:text-white transition cursor-pointer ".concat("my-account"===t&&"bg-blue-500 text-white"),onClick:function(){return c("my-account")},exact:!0,children:[Object(E.jsx)("i",{className:"far fa-user"}),Object(E.jsx)("span",{className:"font-medium text-sm",children:"Account"})]}),Object(E.jsxs)("div",{className:"p-3 flex gap-2 items-center rounded-md hover:bg-blue-500 hover:text-white transition cursor-pointer ".concat("orders"===t&&"bg-blue-500 text-white"),onClick:function(){return c("orders")},exact:!0,children:[Object(E.jsx)("i",{className:"fas fa-shopping-cart"}),Object(E.jsx)("span",{className:"font-medium text-sm",children:"Orders"})]}),Object(E.jsxs)("div",{className:"p-3 flex gap-2 items-center rounded-md hover:bg-blue-500 hover:text-white transition cursor-pointer ".concat("favorites"===t&&"bg-blue-500 text-white"),onClick:function(){return c("favorites")},exact:!0,children:[Object(E.jsx)("i",{className:"far fa-heart"}),Object(E.jsx)("span",{className:"font-medium text-sm",children:"Favorites"})]})]})}),J=c(166),X=c(186),G=c(181),z=c(188),Y=c(168),_=function(){var e=Object(u.c)((function(e){return{user:e.user,userInfo:e.userInfo}})),t=e.user,c=e.userInfo,n=t.displayName,r=t.email,s=t.uid,i=t.photoURL,j=Object(a.useState)(n),d=Object(P.a)(j,2),b=d[0],x=d[1],h=Object(a.useState)(r),m=Object(P.a)(h,2),p=m[0],O=m[1],v=Object(a.useState)(""),g=Object(P.a)(v,2),w=g[0],N=g[1],y=Object(a.useState)(""),T=Object(P.a)(y,2),S=T[0],C=T[1],F=Object(a.useState)(""),k=Object(P.a)(F,2),L=k[0],H=k[1],V=Object(a.useState)("cod"),K=Object(P.a)(V,2),q=K[0],U=K[1],B=Object(a.useState)(!1),M=Object(P.a)(B,2),W=M[0],D=M[1],Z=Object(a.useState)([]),I=Object(P.a)(Z,2),_=I[0],$=I[1];Object(a.useEffect)((function(){c&&(x(c.name),O(c.email),N(c.phoneNumber),C(c.alternativePhoneNumber),H(c.deliveryAddress),U(c.defaultPaymentMethod))}),[c]);var ee=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),$([]),D(!0),e.next=5,f.collection("usersInfo").doc(s).set({name:b,email:r,phoneNumber:w,alternativePhoneNumber:S,deliveryAddress:L,defaultPaymentMethod:q});case 5:D(!1),$([].concat(Object(A.a)(_),[{message:"Profile Updated!",color:"green"}])),setTimeout((function(){return $([])}),5e3);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{className:"p-5",children:[Object(E.jsx)("div",{className:"bg-blue-500 text-white p-3 mb-5 text-center rounded-md",children:"My Account"}),_.length?_.map((function(e){var t=e.message,c=e.color;return Object(E.jsx)(Q,{message:t,color:c})})):null,Object(E.jsxs)("form",{className:"flex flex-col gap-5",onSubmit:ee,children:[Object(E.jsx)("div",{className:"bg-center bg-cover bg-no-repeat rounded-md",style:{width:"150px",height:"150px",backgroundImage:"url(".concat(i,")")}}),Object(E.jsx)(R.a,{type:"text",label:"Name",value:b,onChange:function(e){return x(e.target.value)},variant:"outlined",required:!0}),Object(E.jsx)(R.a,{type:"email",label:"Email Address",value:p,onChange:function(e){return O(e.target.value)},variant:"outlined",required:!0}),Object(E.jsx)(R.a,{type:"tel",label:"Phone Number",value:w,onChange:function(e){return N(e.target.value)},variant:"outlined"}),Object(E.jsx)(R.a,{type:"tel",label:"Alternative Phone Number",value:S,onChange:function(e){return C(e.target.value)},variant:"outlined"}),Object(E.jsx)(R.a,{type:"text",label:"Delivery Address",value:L,onChange:function(e){return H(e.target.value)},variant:"outlined"}),Object(E.jsxs)(J.a,{variant:"outlined",children:[Object(E.jsx)(X.a,{id:"select-payment-method-label",children:"Payment Mehod"}),Object(E.jsxs)(G.a,{labelId:"select-payment-method-label",value:q,onChange:function(e){return U(e.target.value)},label:"Payment Method",children:[Object(E.jsx)(z.a,{value:"cod",children:"Cash On Delivery"}),Object(E.jsx)(z.a,{value:"bkash",children:"Bkash"}),Object(E.jsx)(z.a,{value:"nagad",children:"Nagad"}),Object(E.jsx)(z.a,{value:"rocket",children:"Rocket"}),Object(E.jsx)(z.a,{value:"upay",children:"Upay"})]})]}),Object(E.jsx)(Y.a,{variant:"contained",color:"primary",type:"submit",disabled:W,children:"Save Changes"})]})]})})},$=c(189),ee=c(169),te=c(20),ce=[{to:"/",label:"Home",icon:"fas fa-home"},{to:"/cart",label:"Cart",icon:"fas fa-shopping-cart",private:!0}],ne=function(e,t){return e.length<t?e:e.slice(0,t-3)+"..."},ae=function(e){var t=e.toggleSlider,c=e.toggle,n=e.user,r=e.userInfo,s=r?r.name:n?n.displayName:"",i="bg-blue-500 text-white",u=function(){var e=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.signOut();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{className:"top-0 h-full w-62 bg-white flex flex-col px-5 py-3 fixed gap-y-4 z-50 shadow-xl",style:c?{left:"-100%",transition:"left 1s ease-in-out"}:{left:"0",transition:"left 0.5s ease"},children:[Object(E.jsxs)("div",{className:"flex items-center gap-x-2",children:[Object(E.jsx)(ee.a,{className:"cursor-pointer text-3xl important",onClick:t}),Object(E.jsxs)(te.c,{to:"/",className:"font-bold text-xl px-5 py-3 rounded-xl transition-all",children:["E-",Object(E.jsx)("span",{className:"text-blue-600 font-semibold lowercase",children:"Commerce"})]})]}),Object(E.jsxs)("div",{className:"flex flex-col gap-y-2",children:[ce.map((function(e,t){return Object(E.jsx)(a.Fragment,{children:e.private?n?Object(E.jsxs)(te.c,{to:e.to,className:"p-2 flex gap-2 items-center rounded-md hover:bg-blue-500 hover:text-white transition",activeClassName:i,exact:!0,children:[Object(E.jsx)("i",{className:e.icon}),Object(E.jsx)("span",{className:"font-medium text-sm",children:e.label})]}):null:Object(E.jsxs)(te.c,{to:e.to,className:"p-2 flex gap-2 items-center rounded-md hover:bg-blue-500 hover:text-white transition",activeClassName:i,exact:!0,children:[Object(E.jsx)("i",{className:e.icon}),Object(E.jsx)("span",{className:"font-medium text-sm",children:e.label})]})},t)})),n&&Object(E.jsxs)(te.c,{to:"/dashboard",className:"p-2 flex gap-2 items-center rounded-md hover:bg-blue-500 hover:text-white transition",activeClassName:i,exact:!0,children:[Object(E.jsx)("img",{src:n.photoURL,alt:"",width:"30px",className:"rounded-full"}),Object(E.jsx)("span",{className:"font-medium text-sm",children:ne(s,20)})]}),n?Object(E.jsxs)("div",{className:"p-2 flex gap-2 items-center rounded-md cursor-pointer hover:bg-red-500 hover:text-white",onClick:u,children:[Object(E.jsx)("i",{className:"fas fa-sign-out-alt"}),Object(E.jsx)("span",{className:"font-medium text-sm",children:"Sign Out"})]}):Object(E.jsxs)(te.c,{to:"/login",className:"p-2 flex gap-2 items-center rounded-md hover:bg-blue-500 hover:text-white transition",activeClassName:i,exact:!0,children:[Object(E.jsx)("i",{className:"fas fa-user"}),Object(E.jsx)("span",{className:"font-medium text-sm",children:"Login"})]})]})]})})},re=function(e){var t=e.name,c=e.id,n=e.productImage;return Object(E.jsx)(te.b,{to:"/products/".concat(t.split(" ").join("-"),"/").concat(c),children:Object(E.jsx)("div",{className:"w-full h-52 bg-center bg-no-repeat bg-cover",style:{backgroundImage:"url(".concat(n,")")}})})},se=c(170),ie=function(e){var t=e.product,c=e.cart,n=Object(a.useState)(!1),r=Object(P.a)(n,2),s=r[0],i=r[1],l=T();return Object(E.jsx)("div",{className:"p-3",children:Object(E.jsx)(Y.a,{color:"primary",variant:"contained",startIcon:Object(E.jsx)(se.a,{}),onClick:function(){var e=l(c,t,"increase").loading;i(e)},disabled:s,children:"Add To Cart"})})},le=function(e){var t=e.product,c=Object(u.c)((function(e){return{user:e.user,cart:e.cart,favorites:e.favorites}})),n=c.user,a=c.cart,r=c.favorites,s=t.name,i=t.catagory,l=t.price,o=t.productImage,j=t.id;return Object(E.jsxs)("div",{className:"flex flex-col bg-white shadow-md",style:{flexBasis:"300px"},children:[Object(E.jsx)(re,{name:s,id:j,productImage:o}),Object(E.jsxs)("div",{className:"flex flex-col justify-between flex-1",children:[Object(E.jsxs)("div",{className:"p-3 flex flex-col gap-y-2",children:[Object(E.jsx)("h3",{className:"text-base",children:ne(s,60)}),Object(E.jsxs)("div",{className:"flex justify-between items-center",children:[Object(E.jsx)($.a,{label:i,color:"primary",variant:"outlined",clickable:!0,className:"w-1/4"}),Object(E.jsxs)("span",{className:"text-xl font-semibold",children:["\u09f3",l]})]})]}),Object(E.jsx)(ie,{favorites:r,user:n,product:t,cart:a})]})]},Math.random())},oe=function(){var e=Object(u.c)((function(e){return e.favorites}));return Object(E.jsxs)("div",{className:"p-5",children:[Object(E.jsx)("div",{className:"bg-blue-500 text-white p-3 mb-5 text-center rounded-md",children:"My Favorites"}),e.length?Object(E.jsx)("div",{className:"flex justify-around flex-wrap",children:e.map((function(e,t){return Object(E.jsx)(le,{product:e},t)}))}):Object(E.jsx)("div",{className:"flex justify-center items-center p-5",children:Object(E.jsx)("span",{className:"font-semibold text-gray-500",children:"No Favorite Product Found"})})]})},ue=c(167),je=c(172),de=c(176),be=c(175),xe=c(171),fe=c(173),he=c(174),me=c(68),pe=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){var t=e.user,c=e.orders;return{uid:t.uid,orders:c}})),c=t.uid,n=t.orders;return Object(a.useEffect)((function(){e(function(e){return function(){var t=Object(o.a)(l.a.mark((function t(c){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.collection("orders").doc(e).onSnapshot((function(e){e.exists&&c({type:N,payload:e.data().orders})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(c))}),[c]),Object(E.jsx)(E.Fragment,{children:n.length?Object(E.jsxs)("div",{className:"p-5",children:[Object(E.jsx)("div",{className:"bg-blue-500 text-white p-3 mb-5 text-center rounded-md",children:"My Orders"}),Object(E.jsx)("div",{className:"overflow-x-auto",children:Object(E.jsx)(xe.a,{component:ue.a,children:Object(E.jsxs)(je.a,{children:[Object(E.jsx)(fe.a,{className:"bg-gray-700",children:Object(E.jsxs)(he.a,{children:[Object(E.jsx)(be.a,{className:"text-white font-semibold",children:"Order ID"}),Object(E.jsx)(be.a,{className:"text-white font-semibold",children:"Date"}),Object(E.jsx)(be.a,{className:"text-white font-semibold",children:"Status"}),Object(E.jsx)(be.a,{className:"text-white font-semibold",children:"Total"})]})}),Object(E.jsx)(de.a,{children:n.map((function(e,t){var c=e.orderInfo;return Object(E.jsxs)(he.a,{children:[Object(E.jsx)(be.a,{component:"th",scope:"row",children:"#".concat(t+1)}),Object(E.jsx)(be.a,{children:me.a.format(new Date(c.time),"DD MMM YYYY")}),Object(E.jsx)(be.a,{children:Object(E.jsx)("span",{className:"bg-yellow-100 p-3 rounded-md text-yellow-600 font-semibold",children:c.status})}),Object(E.jsxs)(be.a,{children:[c.total," Taka"]})]},c.time)}))})]})})})]}):Object(E.jsx)("div",{className:"flex justify-center items-center p-5",children:Object(E.jsx)("span",{className:"font-semibold text-gray-500",children:"No Previous Orders Found"})})})},Oe=function(){var e=Object(a.useState)("my-account"),t=Object(P.a)(e,2),c=t[0],n=t[1],r=S();Object(a.useEffect)((function(){return document.title="Dashboard | E-commerce"}),[]);return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{className:"w-full flex flex-col md:flex-row border",style:{minHeight:"90vh"},children:[Object(E.jsx)(I,{currentTab:c,width:r,setCurrentTab:n}),Object(E.jsx)("div",{style:{flex:r>=768?"0.8":"1"},className:r>=768?"overflow-y-auto":"",children:function(){switch(c){case"my-account":return Object(E.jsx)(_,{});case"favorites":return Object(E.jsx)(oe,{});case"orders":return Object(E.jsx)(pe,{});default:return null}}()})]})})},ve=function(e){var t=e.children,c=e.path,n=Object(u.c)((function(e){return e.user})),a=Object(j.h)();return Object(E.jsx)(E.Fragment,{children:n?Object(E.jsx)(j.b,{path:c,exact:!0,children:t}):Object(E.jsx)(j.a,{to:{pathname:"/login",state:{from:a.pathname}}})})},ge=function(e){var t=e.children,c=e.path,n=(Object(j.h)().state||{from:"/"}).from;return Object(u.c)((function(e){return e.user}))?Object(E.jsx)(j.a,{to:n}):Object(E.jsx)(j.b,{path:c,exact:!0,children:t})},we=function(){var e=Object(u.c)((function(e){return e.products}));return Object(E.jsx)("div",{className:"flex flex-row flex-wrap justify-center gap-3 z-0",children:e.length?e.map((function(e){return Object(E.jsx)(le,{product:e},Math.random())})):Object(E.jsx)(D,{})})},Ne=function(e){var t=e.searchValue,c=Object(u.b)(),n=Object(a.useState)([]),r=Object(P.a)(n,2),s=r[0],i=r[1],j=Object(u.c)((function(e){return e.searchResults}));return Object(a.useEffect)((function(){c(function(){var e=Object(o.a)(l.a.mark((function e(t){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=[],e.next=3,f.collection("searchResults").get();case 3:e.sent.forEach((function(e){return c.push(e.data())})),t({type:y,payload:c});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(a.useEffect)((function(){var e=j.filter((function(e){return e.searchString.includes(t.toLowerCase())}));i(e)}),[t]),s.length?Object(E.jsx)("div",{className:"w-full z-10 bg-white py-3 px-5 rounded-md shadow-md m-auto flex flex-col gap-y-5 overflow-y-auto",style:{maxHeight:"200px"},children:s.map((function(e){var t=e.searchString;return Object(E.jsx)(te.b,{to:"/search/".concat(t.split(" ").join("+")),children:Object(E.jsx)("p",{className:"font-semibold",children:t})})}))}):Object(E.jsx)("div",{})},ye=function(){var e=Object(j.g)(),t=Object(a.useState)(""),c=Object(P.a)(t,2),n=c[0],r=c[1],s=function(){var t=Object(o.a)(l.a.mark((function t(c){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),t.next=3,f.collection("searchResults").add({searchString:n});case 3:e.push("/search/".concat(n.toLowerCase().split(" ").join("+")));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(E.jsxs)("div",{className:"w-11/12 md:w-8/12 m-auto mb-10",children:[Object(E.jsxs)("form",{onSubmit:s,children:[Object(E.jsx)("input",{type:"text",className:"w-full outline-none text-sm md:text-base py-3 px-5 rounded-md m-auto mb-2",placeholder:"Enter Product Keyword Or Catagory ( Ex. Shirt, Hijab )",onChange:function(e){return r(e.target.value)},value:n}),Object(E.jsx)("input",{type:"submit",value:"submit",className:"hidden"})]}),n?Object(E.jsx)(Ne,{searchValue:n}):""]})},Ae=function(){return Object(a.useEffect)((function(){return document.title="Home | E-commerce"}),[]),Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("div",{className:"bg-gray-200 py-10",style:{minHeight:"100vh"},children:Object(E.jsxs)("div",{className:"flex justify-center flex-col max-w-screen-xl m-auto",children:[Object(E.jsxs)("h2",{className:"text-center text-2xl md:text-4xl font-semibold mb-3",children:["Welcome To ",Object(E.jsx)("span",{className:"text-blue-500",children:"My Shop"})]}),Object(E.jsx)(ye,{}),Object(E.jsx)(we,{})]})})})},Pe=c.p+"static/media/googleLogo.3973ee88.png",Te=function(){var e=Object(a.useState)(!1),t=Object(P.a)(e,2),c=t[0],n=t[1];Object(a.useEffect)((function(){document.title="Login | E-commerce"}),[]);var r=function(){var e=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(!0),e.next=4,x.signInWithPopup(h);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n(!1);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(E.jsx)("div",{className:"bg-gray-200 w-full h-screen flex justify-center items-center",children:Object(E.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[Object(E.jsxs)("a",{href:"/",className:"font-bold text-2xl px-5 py-3 rounded-xl transition-all",children:["E-",Object(E.jsx)("span",{className:"text-blue-600 font-semibold lowercase",children:"Commerce"})]}),Object(E.jsxs)("div",{className:"text-center flex flex-col gap-3",children:[Object(E.jsxs)("button",{className:"flex justify-center items-center shadow-md px-4 py-3 cursor-pointer bg-white transition-all",onClick:r,disabled:c,children:[Object(E.jsx)("img",{src:Pe,alt:"googlelogo",width:"40px"}),Object(E.jsx)("p",{className:"text-gray-600",children:"Sign In With Google"})]}),Object(E.jsx)(te.b,{to:"/",className:"text-sm text-gray-700",children:"Back To Home"})]})]})})},Se=c(178),Ee=c(190),Ce=c(177),Fe=function(e){var t=e.toggleSlider,c=e.user,n=e.cart;return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{className:"flex items-center justify-between bg-white px-5 gap-x-2 sticky top-0",style:{height:"70px"},children:[Object(E.jsxs)("div",{className:"flex items-center gap-x-2",children:[Object(E.jsx)(ee.a,{className:"cursor-pointer text-3xl important",onClick:t}),Object(E.jsxs)(te.c,{to:"/",className:"font-bold md:text-xl text-base pl-2 rounded-xl transition-all",children:["E-",Object(E.jsx)("span",{className:"text-blue-600 font-semibold lowercase",children:"Commerce"})]})]}),Object(E.jsx)("div",{className:"flex items-center gap-5",children:null===c?Object(E.jsx)(te.c,{to:"/login",children:Object(E.jsx)(Y.a,{className:"flex-1",variant:"outlined",color:"primary",startIcon:Object(E.jsx)(Ce.a,{}),children:"Login"})}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(te.c,{to:"/cart",children:Object(E.jsx)(Se.a,{badgeContent:n.length,color:"primary",children:Object(E.jsx)(se.a,{})})}),Object(E.jsx)(te.c,{to:"/dashboard",children:Object(E.jsx)("div",{children:Object(E.jsx)(Ee.a,{src:c.photoURL,alt:"user photo"})})})]})})]})})},ke=function(){var e=Object(u.c)((function(e){return{user:e.user,cart:e.cart,userInfo:e.userInfo}})),t=e.user,c=e.cart,n=e.userInfo,r=Object(a.useState)(!0),s=Object(P.a)(r,2),i=s[0],l=s[1],o=function(){l((function(e){return!e}))};return Object(E.jsxs)("nav",{children:[Object(E.jsx)(Fe,{toggleSlider:o,user:t,cart:c}),Object(E.jsx)(ae,{toggleSlider:o,toggle:i,user:t,userInfo:n})]})},Re=function(e){var t=e.catagory,c=e.productID,n=Object(u.c)((function(e){return e.products})).filter((function(e){return e.catagory===t}));return n.forEach((function(e,t){e.id===c&&n.splice(t,1)})),n.length?Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{className:"bg-white p-5 shadow-md bg-white w-full",children:[Object(E.jsx)("p",{className:"text-2xl font-semibold mb-5",children:"Related Products"}),Object(E.jsx)("div",{className:"flex ".concat(1===n.length||2===n.length?"md:justify-start":"md:justify-between"," justify-center items-center flex-wrap w-full gap-3"),children:n.map((function(e,t){return t<=7?Object(E.jsx)(le,{product:e},Math.random()):null}))})]})}):null},Le=c(179),He=function(){var e=Object(a.useState)(!1),t=Object(P.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(!1),s=Object(P.a)(r,2),i=s[0],l=s[1],o=Object(u.c)((function(e){return{favorites:e.favorites,user:e.user}})),j=o.favorites,d=o.user;return function(e,t){return t?function(e){n(!0),f.collection("favorites").doc(d.uid).set({favorites:[].concat(Object(A.a)(j),[e])}).then((function(){return n(!1)})).catch((function(){n(!1),l(!0)}))}(e):function(e){var t=Object(A.a)(j);t.forEach((function(c,n){c.id===e.id&&t.splice(n,1)})),n(!0),f.collection("favorites").doc(d.uid).set({favorites:t}).then((function(){return n(!1)})).catch((function(){n(!1),l(!0)}))}(e),{loading:c,error:i}}},Ve=function(e){var t=e.Product,c=e.cart,n=Object(a.useState)(!1),r=Object(P.a)(n,2),s=r[0],i=r[1],l=Object(a.useState)([]),o=Object(P.a)(l,2),d=o[0],b=o[1],x=Object(a.useState)(!1),f=Object(P.a)(x,2),h=f[0],m=f[1],p=Object(j.g)(),O=S(),v=T(),g=He(),w=Object(u.c)((function(e){return{favorites:e.favorites,user:e.user}})),N=w.favorites,y=w.user,C=t.name,F=t.catagory,k=t.price,R=t.productImage,L=function(){return!!y&&!!N.filter((function(e){return e.id===t.id})).length};return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("div",{className:"flex flex-col md:flex-row shadow m-auto",children:Object(E.jsxs)("div",{className:"flex flex-col md:flex-row bg-white p-3",children:[d.length?d.map((function(e){return Object(E.jsx)(Q,{color:"red",message:e})})):"",Object(E.jsx)("div",{style:{flexBasis:O>=768?"30%":"100%",height:"100%"},className:"flex items-center",children:Object(E.jsx)("img",{src:R,alt:C,width:"100%",height:"auto"})}),Object(E.jsxs)("div",{className:"p-4 md:p-10 flex-1 flex flex-col gap-6",children:[Object(E.jsx)("p",{className:"text-base md:text-2xl font-semibold",children:C}),Object(E.jsxs)("p",{children:["Catagory: ",Object(E.jsx)($.a,{label:F,color:"primary",variant:"outlined",clickable:!0})]}),Object(E.jsxs)("p",{className:"text-xl font-semibold",children:[k," Taka"]}),Object(E.jsxs)("div",{className:"flex gap-2",children:[Object(E.jsx)(Y.a,{variant:"outlined",color:"primary",onClick:function(){var e=v(c,t,"increase"),n=e.error,a=e.loading;i(a),n&&b([].concat(Object(A.a)(d),["Add To Cart Failed"]))},disabled:s,children:"Add To Cart"}),Object(E.jsx)(Y.a,{variant:"contained",color:"primary",onClick:function(){t&&p.push({pathname:"/checkout",state:{cart:[{product:t,count:1}],total:parseInt(k)+50}})},children:"Buy Now"})]}),Object(E.jsx)("div",{className:"flex",children:Object(E.jsx)(Y.a,{startIcon:Object(E.jsx)(Le.a,{}),onClick:function(){if(y)if(L()){var e=g(t,!1).loading;m(e)}else{var c=g(t,!0).loading;m(c)}else p.push("/login")},disabled:h,children:L()?"Remove From Favorites":"Add To Favorites"})})]})]})})})},Ke=function(e){var t=e.className,c=e.children;return Object(E.jsx)("h2",{className:"".concat(t," text-xl font-semibold"),children:c})},qe=function(e){var t=e.description;return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{className:"bg-white shadow-md m-auto p-5 w-full",children:[Object(E.jsx)(Ke,{children:"Description"}),Object(E.jsx)("div",{className:"bg-gray-100 rounded-md p-5",children:Object(E.jsx)("p",{className:"text-sm md:text-base",children:t})})]})})},Ue=function(e){var t=e.rating,c=e.color,n=void 0===c?"yellow":c;return Object(E.jsx)("div",{children:[1,2,3,4,5].map((function(e,c){return Object(E.jsx)("i",{className:"".concat((a=e,r=t,null!==r&&a<=r?"fas":"far")," fa-star text-").concat(n,"-400 text-sm cursor-pointer")},c);var a,r}))})},Be=function(e){var t=e.name,c=e.time,n=e.photoURL,r=e.productRating,s=e.review,i=e.index,l=e.reviewsArray;return Object(E.jsxs)(a.Fragment,{children:[Object(E.jsx)("div",{className:"py-5",children:Object(E.jsxs)("div",{className:"flex flex-col md:flex-row gap-2",children:[Object(E.jsxs)("div",{className:"flex flex-row md:flex-col gap-2",style:{flexBasis:"20%"},children:[Object(E.jsx)("img",{src:n,alt:"user",className:"w-14 h-14 md:w-20 md:h-20 rounded-full text-xs"}),Object(E.jsxs)("div",{className:"flex flex-col flex-1",children:[Object(E.jsx)("p",{className:"text-sm md:text-base",children:t}),Object(E.jsx)("p",{className:"text-xs font-light",children:me.a.format(new Date(c),"DD MMM YYYY")}),r&&Object(E.jsx)(Ue,{rating:r})]})]}),Object(E.jsx)("div",{className:"reviewText flex-1 md:bg-gray-100 rounded-md text-sm md:text-base p-2",style:{height:"fit-content"},children:Object(E.jsx)("p",{children:s})})]})}),i!==l.length-1&&Object(E.jsx)("hr",{})]})},Qe=function(e){var t=e.reviews,c=e.FindReviews,n=Object(a.useState)(5),r=Object(P.a)(n,2),s=r[0],i=r[1],l=-1;return Object(E.jsxs)(E.Fragment,{children:[t?c().map((function(e,t,c){var n=e.photoURL,a=e.name,r=e.time,i=e.review,o=e.rating;return t<=s?(l=t,Object(E.jsx)(Be,{name:a,time:r,photoURL:n,review:i,productRating:o,reviewsArray:c},t)):null})):Object(E.jsx)(D,{}),function(){if(t&&l<t.length-1&&-1!==l)return Object(E.jsx)(Y.a,{variant:"contained",onClick:function(){return i((function(e){return e+6}))},children:" Show More"})}()]})},Me=function(e){var t=e.rating,c=e.review,n=e.setReview,a=e.setRating,r=e.onReviewSubmit,s=e.onRatingSubmit;return Object(E.jsx)("div",{className:"border",children:Object(E.jsxs)("form",{onSubmit:r,children:[Object(E.jsx)("input",{type:"textarea",colSpan:"20",placeholder:"Please write your honest opinion and give a rating",className:"outline-none p-5 w-full text-sm md:text-base",value:c,onChange:function(e){return n(e.target.value)},required:!0}),Object(E.jsx)("hr",{}),Object(E.jsxs)("div",{className:"flex justify-between items-center p-5",children:[Object(E.jsx)("div",{className:"flex gap-2",children:[1,2,3,4,5].map((function(e,c){return Object(E.jsx)("i",{className:"".concat((n=e,r=t,null!==r&&n<=r?"fas":"far")," fa-star text-yellow-400 text-xl cursor-pointer"),onClick:function(){a(e),s(e)}},c);var n,r}))}),Object(E.jsx)("div",{children:Object(E.jsx)(Y.a,{type:"submit",color:"primary",variant:"outlined",children:"Submit"})})]})]})})},We=function(e){var t=e.user,c=e.FindRatings,n=e.FindReviews,a=e.toggle,r=Object(j.g)(),s=function(){return c().length?c().reduce((function(e,t){return e+t}),0)/c().length:0};return Object(E.jsxs)("div",{className:"flex flex-col md:flex-row justify-between gap-3 md:gap-0 md:items-center py-3",children:[Object(E.jsxs)("div",{className:"flex items-center gap-3 left-side",children:[Object(E.jsx)("h3",{className:"text-4xl",children:s().toFixed(2)}),Object(E.jsxs)("div",{children:[Object(E.jsxs)("p",{children:[c().length," Ratings and ",n().length," Reviews"]}),Object(E.jsx)(Ue,{rating:s().toFixed(1)})]})]}),Object(E.jsx)("div",{className:"right-side",children:t?Object(E.jsx)(Y.a,{color:"primary",variant:"contained",onClick:a,children:"Write A Review"}):Object(E.jsx)(Y.a,{color:"primary",variant:"contained",onClick:function(){return r.push("/login")},children:"Login"})})]})},De=function(e){var t=e.productID,c=Object(a.useState)(!1),n=Object(P.a)(c,2),r=n[0],s=n[1],i=Object(a.useState)(null),j=Object(P.a)(i,2),d=j[0],b=j[1],x=Object(a.useState)(""),h=Object(P.a)(x,2),p=h[0],O=h[1],v=Object(a.useState)(null),g=Object(P.a)(v,2),w=g[0],N=g[1],y=Object(a.useState)([]),A=Object(P.a)(y,2),T=A[0],S=A[1],C=Object(u.c)((function(e){return{user:e.user,userInfo:e.userInfo}})),F=C.user,k=C.userInfo;Object(a.useEffect)((function(){L()}),[t]);var R=function(){return k?k.name:F.displayName},L=function(){f.collection("reviews").doc(t).collection("reviews").onSnapshot((function(e){var t=[];e.forEach((function(e){return t.push(Object(m.a)({userId:e.id},e.data()))})),b(t)}))},H=function(){return new Promise((function(e){f.collection("reviews").doc(t).collection("reviews").doc(F.uid).get().then((function(t){return e(t.data())}))}))},V=function(){var e=Object(o.a)(l.a.mark((function e(c){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:n=e.sent,a=n?Object(m.a)(Object(m.a)({},n),{},{rating:c,name:R(),photoURL:F.photoURL,time:(new Date).getTime()}):{rating:c,name:R(),photoURL:F.photoURL,time:(new Date).getTime()},S([]),f.collection("reviews").doc(t).collection("reviews").doc(F.uid).set(a).then((function(){L(),S([{message:"Rating has been ".concat(n?"updated":"submitted"),color:"green"}])}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(o.a)(l.a.mark((function e(c){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),e.next=3,H();case 3:n=e.sent,a=n?Object(m.a)(Object(m.a)({},n),{},{review:p,name:R(),photoURL:F.photoURL,time:(new Date).getTime()}):{review:p,name:R(),photoURL:F.photoURL,time:(new Date).getTime()},S([]),f.collection("reviews").doc(t).collection("reviews").doc(F.uid).set(a).then((function(){L(),O(""),S([{message:"Review has been ".concat(n?"updated":"submitted"),color:"green"}])}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=[];return d&&d.forEach((function(t){t.review&&e.push(t)})),e};return Object(E.jsxs)("div",{className:"w-full bg-white p-5",children:[T.length?T.map((function(e){var t=e.message,c=e.color;return Object(E.jsx)(Q,{message:t,color:c,remove:function(){return S([])}},Math.random())})):null,Object(E.jsx)("h2",{className:"text-xl font-semibold",children:"Reviews and Ratings"}),Object(E.jsx)(We,{user:F,FindRatings:function(){var e=[];return d&&d.forEach((function(t){t.rating&&e.push(t.rating)})),e},FindReviews:q,toggle:function(){s((function(e){return!e}))}}),r&&Object(E.jsx)(Me,{rating:w,review:p,onReviewSubmit:K,onRatingSubmit:V,setReview:O,setRating:N}),Object(E.jsx)(Qe,{reviews:d,FindReviews:q})]})},Ze=(c(122),function(){var e=Object(u.c)((function(e){return{user:e.user,cart:e.cart,products:e.products}})),t=e.user,c=e.cart,n=e.products,a=Object(j.i)(),r=a.id,s=a.name;if(n.length){var i=function(e,t){return n&&n.filter((function(c){return c.id===e&&c.name.split(" ").join("-")===t}))[0]}(r,s);if(i){var l=i.catagory,o=i.description,d=i.id;return Object(E.jsxs)("div",{className:"bg-gray-200 flex flex-col items-center gap-5 p-2 m-auto",style:{minHeight:"100vh",maxWidth:"1200px"},children:[Object(E.jsx)(Ve,{Product:i,user:t,cart:c}),Object(E.jsx)(qe,{description:o}),Object(E.jsx)(De,{productID:r}),Object(E.jsx)(Re,{catagory:l,productID:d})]})}return Object(E.jsx)("div",{className:"w-full h-full flex justify-center items-center",children:"Sorry, No Product Found"})}return Object(E.jsx)("div",{className:"flex justify-center p-10",children:Object(E.jsx)(D,{})})}),Ie=c.p+"static/media/success.1d4dd1d9.svg",Je=function(){var e=Object(j.h)(),t=Object(j.g)();if(e.state.uid)return Object(E.jsx)("div",{className:"w-full bg-gray-200 flex justify-center items-center p-5",style:{minHeight:"90vh"},children:Object(E.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[Object(E.jsxs)("p",{className:"text-center text-semibold text-green-600 p-5 rounded-md bg-green-100 mb-10",children:["Order has been successfully submitted! ",Object(E.jsx)("br",{})," It will take minimum 2-3 Working days to deliver, Thank you!"]}),Object(E.jsx)("img",{src:Ie,alt:"success",width:"400px"})]})});t.push("/")},Xe=function(){var e=Object(j.i)().searchTitle,t=Object(u.c)((function(e){var t=e.products;return t.length?t:[]})),c=Object(j.g)(),n=Object(a.useState)("none"),r=Object(P.a)(n,2),s=r[0],i=r[1];e||c.push("/");var l=e.split("+").join(" "),o=t.filter((function(e){return e.name.toLowerCase().includes(l)}));return Object(E.jsxs)("div",{className:"max-w-7xl m-auto py-5",children:[Object(E.jsxs)("div",{className:"flex items-center justify-between px-5",children:[Object(E.jsxs)("p",{className:"text-sm md:text-base",children:["Found ",Object(E.jsx)("strong",{children:o.length})," products"]}),Object(E.jsx)("div",{className:"",children:Object(E.jsx)(J.a,{fullWidth:!0,children:Object(E.jsxs)(G.a,{value:s,onChange:function(e){i(e.target.value)},children:[Object(E.jsx)(z.a,{value:"none",children:"None"}),Object(E.jsx)(z.a,{value:"lowPriceToHighPrice",children:"Low Price To High Price"}),Object(E.jsx)(z.a,{value:"highPriceToLowPrice",children:"High Price To Low Price"})]})})})]}),Object(E.jsx)("div",{className:"flex flex-col md:flex-row gap-5 p-5",children:o.length?function(){switch(s){case"none":return o.map((function(e){return e}));case"lowPriceToHighPrice":return o.map((function(e){return e})).sort((function(e,t){return e.price-t.price}));case"highPriceToLowPrice":return o.map((function(e){return e})).sort((function(e,t){return t.price-e.price}));default:return[]}}().map((function(e){return Object(E.jsx)(le,{product:e})})):Object(E.jsx)("p",{children:"No Product Found"})})]})},Ge=(c(123),function(){var e=Object(u.b)(),t=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){f.collection("users").doc(t).get().then((function(t){return e(t.data())}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=Object(o.a)(l.a.mark((function e(c){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(c.uid);case 2:e.sent||(n={name:c.displayName,email:c.email,photoURL:c.photoURL,creationTime:(new Date).getTime()},f.collection("users").doc(c.uid).set(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var t=x.onAuthStateChanged((function(t){var n;e(function(e){return{type:O,payload:e}}(t)),t&&(c(t),e(function(e){return function(){var t=Object(o.a)(l.a.mark((function t(c){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.collection("carts").doc(e.uid).onSnapshot((function(e){c({type:v,payload:e.data()?e.data().cart:[]})}));case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()}(t)),e((n=t.uid,function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{f.collection("favorites").doc(n).onSnapshot((function(e){t({type:g,payload:e.data()?e.data().favorites:[]})}))}catch(c){}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),e(function(e){return function(){var t=Object(o.a)(l.a.mark((function t(c){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.collection("usersInfo").doc(e).onSnapshot((function(e){e.exists&&c({type:w,payload:e.data()})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t.uid)))}));return e(function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.collection("products").onSnapshot((function(e){var c=[];e.forEach((function(e){c.push(Object(m.a)(Object(m.a)({},e.data()),{},{id:e.id}))})),t({type:p,payload:c})}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("Fetch products failed");case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()),t}),[]),Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("div",{className:"font-poppins bg-gray-200",style:{minHeight:"100vh"},children:Object(E.jsxs)(j.d,{children:[Object(E.jsxs)(j.b,{path:"/",exact:!0,children:[Object(E.jsx)(ke,{}),Object(E.jsx)(Ae,{})]}),Object(E.jsx)(ge,{path:"/login",children:Object(E.jsx)(Te,{})}),Object(E.jsxs)(ve,{path:"/dashboard",children:[Object(E.jsx)(ke,{}),Object(E.jsx)(Oe,{})]}),Object(E.jsxs)(ve,{path:"/checkout",children:[Object(E.jsx)(ke,{}),Object(E.jsx)(Z,{})]}),Object(E.jsxs)(ve,{path:"/orderconfirmation/:uid",children:[Object(E.jsx)(ke,{}),Object(E.jsx)(Je,{})]}),Object(E.jsxs)(ve,{path:"/cart",children:[Object(E.jsx)(ke,{}),Object(E.jsx)(k,{})]}),Object(E.jsxs)(j.b,{path:"/products/:name/:id",exact:!0,children:[Object(E.jsx)(ke,{}),Object(E.jsx)(Ze,{})]}),Object(E.jsxs)(j.b,{path:"/search/:searchTitle",exact:!0,children:[Object(E.jsx)(ke,{}),Object(E.jsx)(Xe,{})]}),Object(E.jsx)(j.b,{children:Object(E.jsx)(j.a,{to:"/"})})]})})})}),ze=c(79),Ye=c(43),_e=(n={products:[],favorites:[],cart:[]},Object(Ye.a)(n,"favorites",[]),Object(Ye.a)(n,"orders",[]),Object(Ye.a)(n,"searchResults",[]),Object(Ye.a)(n,"user",null),Object(Ye.a)(n,"userInfo",null),n),$e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(m.a)(Object(m.a)({},e),{},{products:t.payload});case O:return Object(m.a)(Object(m.a)({},e),{},{user:t.payload});case v:return Object(m.a)(Object(m.a)({},e),{},{cart:t.payload});case g:return Object(m.a)(Object(m.a)({},e),{},{favorites:t.payload});case w:return Object(m.a)(Object(m.a)({},e),{},{userInfo:t.payload});case N:return Object(m.a)(Object(m.a)({},e),{},{orders:t.payload});case y:return Object(m.a)(Object(m.a)({},e),{},{searchResults:t.payload});default:return e}},et=c(90),tt=Object(ze.b)($e,Object(ze.a)(et.a)),ct=c(91),nt=c(180),at=Object(ct.a)({palette:{primary:{main:"#2563EB"}}}),rt=function(e){return Object(E.jsx)(nt.a,{theme:at,children:e.children})},st=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,191)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};s.a.render(Object(E.jsx)(rt,{children:Object(E.jsx)(u.a,{store:tt,children:Object(E.jsx)(te.a,{children:Object(E.jsx)(Ge,{})})})}),document.getElementById("root")),st()},89:function(e,t,c){e.exports={ldsRing:"Loader_ldsRing__2N9uR","lds-ring":"Loader_lds-ring__WbYIA"}}},[[124,1,2]]]);
//# sourceMappingURL=main.80e11fe5.chunk.js.map